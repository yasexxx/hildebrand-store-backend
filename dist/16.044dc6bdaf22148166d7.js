(window.webpackJsonp=window.webpackJsonp||[]).push([[16,22,23],{PCNd:function(t,o,e){"use strict";e.d(o,"a",function(){return l});var n=e("HkTB"),i=e("1kSV"),a=e("ofXK"),r=e("bTqV"),s=e("NFeN"),b=e("3Pt+"),c=e("E1D/"),u=e("xJkR"),d=e("fXoL");let l=(()=>{class t{}return t.\u0275mod=d.Ob({type:t}),t.\u0275inj=d.Nb({factory:function(o){return new(o||t)},imports:[[a.c,n.a,i.v,r.b,s.b,b.i,u.b,b.u,i.x,c.b],n.a,b.i,b.u,u.b]}),t})()},bTqV:function(t,o,e){"use strict";e.d(o,"a",function(){return l}),e.d(o,"b",function(){return m});var n=e("FKr1"),i=e("R1ws"),a=e("fXoL"),r=e("u47x");const s=["mat-button",""],b=["*"],c=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class u{constructor(t){this._elementRef=t}}const d=Object(n.h)(Object(n.j)(Object(n.i)(u)));let l=(()=>{class t extends d{constructor(t,o,e){super(t),this._focusMonitor=o,this._animationMode=e,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const n of c)this._hasHostAttributes(n)&&this._getHostElement().classList.add(n);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",o){this._focusMonitor.focusVia(this._getHostElement(),t,o)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(t=>this._getHostElement().hasAttribute(t))}}return t.\u0275fac=function(o){return new(o||t)(a.Qb(a.m),a.Qb(r.d),a.Qb(i.a,8))},t.\u0275cmp=a.Kb({type:t,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,o){var e;1&t&&a.Uc(n.f,!0),2&t&&a.Cc(e=a.ic())&&(o.ripple=e.first)},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,o){2&t&&(a.Eb("disabled",o.disabled||null),a.Ib("_mat-animation-noopable","NoopAnimations"===o._animationMode)("mat-button-disabled",o.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[a.Ab],attrs:s,ngContentSelectors:b,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,o){1&t&&(a.sc(),a.Wb(0,"span",0),a.rc(1),a.Vb(),a.Rb(2,"div",1),a.Rb(3,"div",2)),2&t&&(a.Db(2),a.Ib("mat-button-ripple-round",o.isRoundButton||o.isIconButton),a.tc("matRippleDisabled",o._isRippleDisabled())("matRippleCentered",o.isIconButton)("matRippleTrigger",o._getHostElement()))},directives:[n.f],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),t})(),m=(()=>{class t{}return t.\u0275mod=a.Ob({type:t}),t.\u0275inj=a.Nb({factory:function(o){return new(o||t)},imports:[[n.g,n.a],n.a]}),t})()},bZSD:function(t,o,e){"use strict";e.r(o),e.d(o,"LoginModule",function(){return w});var n=e("fXoL"),i=e("3Pt+"),a=e("8rb8"),r=e("ofXK"),s=e("ahC7"),b=e("7Vn+"),c=e("YiLq"),u=e("kJb9"),d=e("tyNb"),l=e("wf0l"),m=e("FDOz");function p(t,o){1&t&&(n.Wb(0,"div",24),n.Wb(1,"div",25),n.Wb(2,"span",26),n.Qc(3,"Loading..."),n.Vb(),n.Vb(),n.Vb())}function g(t,o){if(1&t&&(n.Wb(0,"div",27),n.Qc(1),n.Vb()),2&t){const t=n.lc();n.Db(1),n.Sc(" ",t.errorMessage," ")}}const h=function(){return["/register"]},f=[{path:"",component:(()=>{class t{constructor(t,o,e,n,a,r,s){this.authService=t,this.oAuthService=o,this.tokenStack=e,this.fb=n,this.asset=a,this.router=r,this.platformId=s,this.loginForm=this.fb.group({username:["",i.x.required],password:["",i.x.required]}),this.isLoggedIn=!1,this.isLoggedFailed=!1,this.errorMessage="",this.isLoading=this.authService.loading$}ngOnInit(){this.subscription3$=this.oAuthService.authState.subscribe(t=>{this.user=t,this.loggedIn=null!=t,this.loggedIn&&this.checkOauthApi(this.user)}),Object(r.F)(this.platformId)&&(this.subscription$=this.tokenStack.getToken().subscribe(t=>{t&&(this.isLoggedIn=!0,this.roles=this.tokenStack.getUser().roles)})),this.initAsset()}ngOnDestroy(){this.subscription$&&this.subscription$.unsubscribe(),this.subscription2$&&this.subscription2$.unsubscribe(),this.subscription3$&&this.subscription3$.unsubscribe(),this.subscription4$&&this.subscription4$.unsubscribe(),this.subsAssetLogin&&this.subsAssetLogin.unsubscribe(),this.authService.ngOnDestroy()}initAsset(){this.subsAssetLogin=this.asset.getAssetToCache("assets/images/login.webp").subscribe(t=>{this.loginBg=t.result}),this.subsAssetBlur=this.asset.getAssetToCache("assets/images/blurred.webp").subscribe(t=>{this.blurred=t.result})}checkOauthApi(t){this.subscription4$=this.authService.socialLogin(t).subscribe(t=>{this.tokenStack.saveToken(t.accessToken),this.tokenStack.saveUser(t),this.isLoggedFailed=!1,this.isLoggedIn=!0,this.roles=this.tokenStack.getUser().roles,this.reloadPage()},t=>{})}onSubmit(){Object(r.F)(this.platformId)&&(this.subscription2$=this.authService.login(this.loginForm.value).subscribe(t=>{t.accessToken?(this.tokenStack.saveToken(t.accessToken),this.tokenStack.saveUser(t),this.isLoggedFailed=!1,this.isLoggedIn=!0,this.roles=this.tokenStack.getUser().roles,this.reloadPage()):(this.errorMessage="Please provide a valid username and password",this.isLoggedFailed=!0)},t=>{this.errorMessage="Provide a valid username and password and try again.",this.isLoggedFailed=!0}))}reloadPage(){this.router.navigateByUrl("**",{skipLocationChange:!0}).then(()=>{this.router.navigate([""])})}signInWithGoogle(){this.oAuthService.signIn(s.b.PROVIDER_ID)}signInWithFb(){this.oAuthService.signIn(s.a.PROVIDER_ID)}get username(){return this.loginForm.get("username")}get password(){return this.loginForm.get("password")}}return t.\u0275fac=function(o){return new(o||t)(n.Qb(b.a),n.Qb(s.c),n.Qb(c.a),n.Qb(i.d),n.Qb(u.a),n.Qb(d.g),n.Qb(n.F))},t.\u0275cmp=n.Kb({type:t,selectors:[["app-login"]],features:[n.Cb([a.a])],decls:41,vars:11,consts:[[1,"container-a-login",3,"defaultImage","lazyLoad"],[1,"card","card-a-center"],[1,"card-header"],[1,"text-white",2,"font-size","15px"],[1,"card-body","bg-light"],[1,"col","justify-content-center"],["class","spin-1",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","username"],["type","username","name","username","id","username","formControlName","username","required","",1,"form-control"],["for","password"],["type","password","name","password","id","password","formControlName","password","required","",1,"form-control"],["class","alert alert-danger",4,"ngIf"],[1,"not-login"],[3,"routerLink"],["type","submit",1,"btn-1","btn-dark","btn-block","btn-login","my-4","ml-auto"],[1,"login-with"],[1,"social-login"],[1,"btn-1","btn-google",3,"click"],[1,"google-g",3,"src"],[1,"p-0","p-sm-2"],[1,"btn-1","btn-facebook",3,"click"],[1,"facebook-f",3,"src"],[1,"spin-1"],["role","status",1,"spinner-grow","text-dark"],[1,"sr-only"],[1,"alert","alert-danger"]],template:function(t,o){1&t&&(n.Wb(0,"div",0),n.Rb(1,"br"),n.Wb(2,"div",1),n.Wb(3,"div",2),n.Wb(4,"span",3),n.Qc(5,"Login:"),n.Vb(),n.Vb(),n.Wb(6,"div",4),n.Wb(7,"div",5),n.Oc(8,p,4,0,"div",6),n.mc(9,"async"),n.Wb(10,"form",7),n.hc("ngSubmit",function(){return o.onSubmit()}),n.Wb(11,"div",8),n.Wb(12,"label",9),n.Qc(13,"Username: "),n.Vb(),n.Rb(14,"input",10),n.Vb(),n.Wb(15,"div",8),n.Wb(16,"label",11),n.Qc(17,"Password: "),n.Vb(),n.Rb(18,"input",12),n.Vb(),n.Oc(19,g,2,1,"div",13),n.Wb(20,"div",14),n.Qc(21," No account yet? "),n.Wb(22,"a",15),n.Qc(23,"Click here."),n.Vb(),n.Vb(),n.Wb(24,"button",16),n.Qc(25," Login "),n.Vb(),n.Vb(),n.Rb(26,"hr"),n.Wb(27,"div",17),n.Qc(28," Login with "),n.Vb(),n.Wb(29,"div",18),n.Wb(30,"button",19),n.hc("click",function(){return o.signInWithGoogle()}),n.Rb(31,"img",20),n.Wb(32,"span"),n.Qc(33,"Google"),n.Vb(),n.Vb(),n.Wb(34,"div",21),n.Qc(35,"\xa0"),n.Vb(),n.Wb(36,"button",22),n.hc("click",function(){return o.signInWithFb()}),n.Rb(37,"img",23),n.Wb(38,"span"),n.Qc(39,"Facebook"),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Vb(),n.Rb(40,"br"),n.Vb()),2&t&&(n.tc("defaultImage",o.loginBg)("lazyLoad",o.loginBg),n.Db(8),n.tc("ngIf",n.nc(9,8,o.isLoading)),n.Db(2),n.tc("formGroup",o.loginForm),n.Db(9),n.tc("ngIf",o.isLoggedFailed),n.Db(3),n.tc("routerLink",n.wc(10,h)),n.Db(9),n.tc("src","assets/images/google-g.webp",n.Gc),n.Db(6),n.tc("src","assets/images/facebook-f.webp",n.Gc))},directives:[l.d,r.o,i.z,i.o,i.g,i.c,i.n,i.f,i.v,d.i,m.c],pipes:[r.b],styles:[".container-a-login[_ngcontent-%COMP%]{background-size:cover;background-position-y:1;min-height:120vh}.card-a-center[_ngcontent-%COMP%]{margin:5rem auto;width:32em}.card-header[_ngcontent-%COMP%]{background:#002447}.spin-1[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%;display:flex;justify-content:center;align-items:center;top:0;left:0;background-color:hsla(0,0%,100%,.5);z-index:998}.spin-1[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6rem;height:6rem}.not-login[_ngcontent-%COMP%]{display:flex;column-gap:.3rem}.not-login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#00f}.not-login[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#4f4fd8;text-decoration:underline}.btn-login[_ngcontent-%COMP%]{width:10rem}.social-login[_ngcontent-%COMP%]{display:flex}.btn-1[_ngcontent-%COMP%]{text-align:center;border-radius:2px;border:1px solid;vertical-align:middle;cursor:pointer;font-size:.8rem;width:100%;letter-spacing:.3px;height:40px}.btn-google[_ngcontent-%COMP%]{border-color:#c4c4c4;background:#fff;color:#484848;margin-bottom:10px;opacity:1!important;position:relative}.btn-google[_ngcontent-%COMP%]:hover{background-color:#eee}.btn-facebook[_ngcontent-%COMP%]{border-color:#3d5a98 #3d5a98 #263a63;background-color:#3b5998;color:#fff!important;opacity:1!important;position:relative}.btn-facebook[_ngcontent-%COMP%]:hover{background-color:#4568b2}.facebook-f[_ngcontent-%COMP%]{width:10px}.facebook-f[_ngcontent-%COMP%], .google-g[_ngcontent-%COMP%]{position:absolute;left:10px;top:12px}.google-g[_ngcontent-%COMP%]{width:15px}.login-with[_ngcontent-%COMP%]{text-align:center;padding-bottom:1rem}@media (max-width:486px){.card-a-center[_ngcontent-%COMP%]{width:80vw}}@media (max-width:380px){.social-login[_ngcontent-%COMP%]{flex-direction:column}}"]}),t})()}];let k=(()=>{class t{}return t.\u0275mod=n.Ob({type:t}),t.\u0275inj=n.Nb({factory:function(o){return new(o||t)},imports:[[r.c,d.j.forChild(f)],d.j]}),t})();var v=e("PCNd");let w=(()=>{class t{}return t.\u0275mod=n.Ob({type:t}),t.\u0275inj=n.Nb({factory:function(o){return new(o||t)},imports:[[r.c,k,l.b,v.a]]}),t})()}}]);